# 建表原则

##  表关系

数据库中多表之间存在着三种关系，也就是系统设计中的三种实体关系。三种实体关系分别为：多对多、一对多和一对一关系。

在数据库中。实体表之间的关系映射是采用外键来描述的。但并不推荐使用数据库提供的外键功能，由应用系统去控制实体之间的关系。（后deng面zhe再qu说ba。。）

### 建表原则

一对多：再多的一方创建外键指向一的一方的主键
多对多：创建一个中间表，中间表中至少两个字段作为外键分别指向多对多双方的主键
一对一：唯一外键对应：假设一对一中的任意的一方为多，在多的一方创建外键指向一的一方的主键，然后将外键设置为唯一。

## 操作规范

### 命名规范

库名、表名、字段名必须使用小写字母，并采用下划线分割；必须见名知意，命名与业务、产品线等相关联；禁止使用MySQL保留字；

> * MySQL有配置参数lower_case_table_names，不可动态更改，linux系统默认为0，即库表名以实际情况存储，⼤小写敏感。如果是1，以⼩写存储，⼤小写不敏感。如果是2，以实际情况存储，但以小写⽐较。
> * 当库名、表名、字段名等属性含有保留字时，SQL语句必须⽤反引号引用属性名称，这将使得SQL语句书写等变得非常复杂。


## 基础规范（基本属于业内强制性规范）

使⽤InnoDB存储引擎；库表字符集默认使⽤UTF8MB4，特殊情况可以使用UTF8等其他字符集；表和除主键外的其他字段都需要增加注释，推荐采⽤英文标点，防止乱码；不要数据库中存储图片、文件等大数据，建议存等在图片、文件文件存储服务器的地址；每张表数据量建议控制在5000W以内，千万量级的大表建议水平拆分

> * EMOJ等表情符号的存储需求，只能使用UTF8MB4字符集。